.theme-toggle {
  justify-self: flex-end;
  position: relative;
  width: 24px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  background: transparent;
  cursor: pointer;

  -webkit-tap-highlight-color: transparent;
  user-select: none;
  touch-action: manipulation;

  transition: transform 0.25s ease, opacity 0.25s ease, filter 0.25s ease;
  opacity: 0.9;
  &:hover {
    opacity: 1;
    transform: scale(1.08);
  }
  &:active {
    transform: scale(0.94);
  }

  img {
    display: none;
  }

  --icon-grad-1: #3a8fff;
  --icon-grad-2: #00d4ff;
  --icon-glow: rgba(0, 200, 255, 0.35);
  --icon-mask: url("/icons/moon.svg");

  &::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 1;

    background: linear-gradient(135deg, var(--icon-grad-1), var(--icon-grad-2));
    transition: background 0.4s ease, filter 0.4s ease;
    filter: drop-shadow(0 0 0 transparent);

    -webkit-mask-image: var(--icon-mask);
    mask-image: var(--icon-mask);
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
    -webkit-mask-size: contain;
    mask-size: contain;
  }

  &:hover::before {
    filter: drop-shadow(0 0 6px var(--icon-glow));
  }

  &[data-theme="light"] {
    --icon-grad-1: #3a8fff;
    --icon-grad-2: #00d4ff;
    --icon-glow: rgba(0, 200, 255, 0.35);
    --icon-mask: url("/icons/moon.svg#moon-mask");
  }

  &[data-theme="dark"] {
    --icon-grad-1: #5ec6ff;
    --icon-grad-2: #ffb6a1;
    --icon-glow: rgba(255, 182, 161, 0.35);
    --icon-mask: url("/icons/sun.svg#sun-mask");
  }
}
